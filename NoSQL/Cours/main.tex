\documentclass[10pt]{beamer}

\usepackage[french]{babel}
\usepackage[utf8]{inputenc}
\usepackage{sansmathfonts} % Set sans-serif font (with small caps option and math option)
\usepackage{slantsc}% access different-shaped small-caps fonts
\usepackage[french, showdow]{datetime2}% permet d'avoir la commande \Today qui affiche la date du jour

% \usepackage[colorlinks = true,
%             linkcolor = blue,
%             urlcolor  = blue,
%             citecolor = blue,
%             anchorcolor = blue]{hyperref}
            
% Packages pour les maths
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathrsfs}
\usepackage{mathabx}


\usepackage{tikz}
\usetikzlibrary{patterns}
\usetikzlibrary{shapes.geometric, arrows.meta}
\usetikzlibrary{positioning,calc}

% Rappel
\newtheoremstyle{dotlessRappel}{}{}{}{}{\color{black}\bfseries}{}{ }{}
\theoremstyle{dotlessRappel}
\newtheorem*{rappel}{Rappel}


% Proposition
\newtheoremstyle{dotlessProp}{}{}{}{}{\color{black}\bfseries}{}{ }{}
\theoremstyle{dotlessProp}
\newtheorem*{proposition}{Proposition}

% Remarque
\newtheoremstyle{dotlessRemq}%    <name>
{\topsep}%   <space above>
{\topsep}%   <space below>
{\itshape}%  <body font>
{}%          <indent amount>
{\bfseries}% <Theorem head font>
{}%          <punctuation after theorem head>
{ }%{\newline}%  <space after theorem head> (default .5em)
{}%          <Theorem head spec>
\theoremstyle{dotlessRemq}
\newtheorem*{remq}{Remarque}

% Theorème
\newtheoremstyle{dotlessThm}{}{}{}{}{\color{teal}\bfseries}{}{ }{}
\theoremstyle{dotlessThm}
\newtheorem*{thm}{Théorème}

% Example
\newtheoremstyle{dotlessEx}{}{}{}{}{\color{vert}\bfseries}{}{ }{}
\theoremstyle{dotlessEx}
\newtheorem*{ex}{Exemple}
\newtheorem*{exs}{Exemples}

% Definition
\newtheoremstyle{dotlessDef}{}{}{}{}{\color{lipstick}\bfseries}{}{ }{}
\theoremstyle{dotlessDef}
\newtheorem*{mydefinition}{Définition}

\usetheme[progressbar=frametitle]{metropolis}
\usecolortheme{disco}
\setbeamertemplate{frame footer}{\insertshorttitle~-~\insertshortauthor}

\usepackage{appendixnumberbeamer}
\usepackage{booktabs}
\usepackage[scale=2]{ccicons}

\usepackage{xspace}

\title{Bases de données NoSQL}
% \subtitle{Introduction au NoSQL}
\date{\Today}
\author{Alanna \textsc{Devlin Génin}}
\institute{IUT Rives de Seine - BUT Science des Données - Parcours VCOD}
\titlegraphic{\hfill\includegraphics[height=1.5cm]{img/db-transfer.png}}
% \includegraphics[height=1cm]{img/logos/logo-iut.jpg}

% \makeatletter
% \tikzset{
%     database/.style={
%         path picture={
%             \draw (0, 1.5*\database@segmentheight) circle [x radius=\database@radius,y radius=\database@aspectratio*\database@radius];
%             \draw (-\database@radius, 0.5*\database@segmentheight) arc [start angle=180,end angle=360,x radius=\database@radius, y radius=\database@aspectratio*\database@radius];
%             \draw (-\database@radius,-0.5*\database@segmentheight) arc [start angle=180,end angle=360,x radius=\database@radius, y radius=\database@aspectratio*\database@radius];
%             \draw (-\database@radius,1.5*\database@segmentheight) -- ++(0,-3*\database@segmentheight) arc [start angle=180,end angle=360,x radius=\database@radius, y radius=\database@aspectratio*\database@radius] -- ++(0,3*\database@segmentheight);
%         },
%         minimum width=2*\database@radius + \pgflinewidth,
%         minimum height=3*\database@segmentheight + 2*\database@aspectratio*\database@radius + \pgflinewidth,
%     },
%     database segment height/.store in=\database@segmentheight,
%     database radius/.store in=\database@radius,
%     database aspect ratio/.store in=\database@aspectratio,
%     database segment height=0.1cm,
%     database radius=0.25cm,
%     database aspect ratio=0.35,
% }
% \makeatother

% Draw a database
\makeatletter
\tikzset{
    database top segment style/.style={draw},
    database middle segment style/.style={draw},
    database bottom segment style/.style={draw},
    database/.style={
        path picture={
            \path [database bottom segment style]
                (-\db@r,-0.5*\db@sh) 
                -- ++(0,-1*\db@sh) 
                arc [start angle=180, end angle=360,
                    x radius=\db@r, y radius=\db@ar*\db@r]
                -- ++(0,1*\db@sh)
                arc [start angle=360, end angle=180,
                    x radius=\db@r, y radius=\db@ar*\db@r];
            \path [database middle segment style]
                (-\db@r,0.5*\db@sh) 
                -- ++(0,-1*\db@sh) 
                arc [start angle=180, end angle=360,
                    x radius=\db@r, y radius=\db@ar*\db@r]
                -- ++(0,1*\db@sh)
                arc [start angle=360, end angle=180,
                    x radius=\db@r, y radius=\db@ar*\db@r];
            \path [database top segment style]
                (-\db@r,1.5*\db@sh) 
                -- ++(0,-1*\db@sh) 
                arc [start angle=180, end angle=360,
                    x radius=\db@r, y radius=\db@ar*\db@r]
                -- ++(0,1*\db@sh)
                arc [start angle=360, end angle=180,
                    x radius=\db@r, y radius=\db@ar*\db@r];
            \path [database top segment style]
                (0, 1.5*\db@sh) circle [x radius=\db@r, y radius=\db@ar*\db@r];
        },
        minimum width=2*\db@r + \pgflinewidth,
        minimum height=3*\db@sh + 2*\db@ar*\db@r + \pgflinewidth,
    },
    database segment height/.store in=\db@sh,
    database radius/.store in=\db@r,
    database aspect ratio/.store in=\db@ar,
    database segment height=0.1cm,
    database radius=0.25cm,
    database aspect ratio=0.35,
    database top segment/.style={
        database top segment style/.append style={#1}},
    database middle segment/.style={
        database middle segment style/.append style={#1}},
    database bottom segment/.style={
        database bottom segment style/.append style={#1}}
}
\makeatother

% Draw a single disk database
\makeatletter
\tikzset{
    disk segment style/.style={draw},
    disk/.style={
        path picture={
            \path [disk segment style]
                (-\db@r,1.5*\db@sh) 
                -- ++(0,-1*\db@sh) 
                arc [start angle=180, end angle=360,
                    x radius=\db@r, y radius=\db@ar*\db@r]
                -- ++(0,1*\db@sh)
                arc [start angle=360, end angle=180,
                    x radius=\db@r, y radius=\db@ar*\db@r];
            \path [disk segment style]
                (0, 1.5*\db@sh) circle [x radius=\db@r, y radius=\db@ar*\db@r];
        },
        minimum width=2*\db@r + \pgflinewidth,
        minimum height=3*\db@sh + 2*\db@ar*\db@r + \pgflinewidth,
    },
    disk segment height/.store in=\db@sh,
    disk radius/.store in=\db@r,
    disk aspect ratio/.store in=\db@ar,
    disk segment height=0.1cm,
    disk radius=0.25cm,
    disk aspect ratio=0.35,
    disk segment/.style={
        disk segment style/.append style={#1}}
}
\makeatother


% Define a reusable node for a stack of files
\newcommand{\filestack}{
    \begin{tikzpicture}
        \def\corner{0.15in}
        \def\cornerradius{0.02in}
        \def\lwidth{0.02in}
        \def\h{1.1in}
        \def\w{0.85in}
        \def\nline{10}
        \def\iconmargin{0.1in}
        \def\topmargin{0.3in}
        \foreach[count=\i] \filename in {Shard 5, Shard 4, Shard 3, Shard 2, Shard 1}
        {
        \coordinate (nw) at ($(-0.05in*\i,-0.15in*\i)$);
        \coordinate (ne0) at ($(nw) + (\w, 0)$);
        \coordinate (ne1) at ($(ne0) - (\corner, 0)$);
        \coordinate (ne2) at ($(ne0) - (0, \corner)$);
        \coordinate (se) at ($(ne0) + (0, -\h)$); 
        \filldraw [-, line width = \lwidth, fill=white] (nw) -- (ne1) -- (ne2)
            [rounded corners=\cornerradius]--(se) -- (nw|-se) -- cycle;
        \draw [-, line width = \lwidth] (ne1) [rounded corners=\cornerradius]-- (ne1|-ne2) -- (ne2);
        \node [anchor=north west] at (nw) {\scriptsize \tt \filename};
        \foreach \k in {1,...,\nline}
        {
            \draw [-, line width = \lwidth, line cap=round] 
            ($(nw|-se) + (\iconmargin,\iconmargin) + (0,{(\k-1)/(\nline-1)*(\h - \iconmargin - \topmargin)})$)
                -- ++ ($(\w,0) - 2*(\iconmargin,0)$);
        }
        }
    \end{tikzpicture}
}

% ------------------------------------------------------

\begin{document}

% \maketitle
\begin{frame}
   \tikz [remember picture,overlay]
    \node at
        ([yshift=0.6cm,xshift=3.9cm]current page.south) 
        %or: (current page.center)
        {\includegraphics[height=1cm]{img/logos/logo-iut.jpg}};
   \titlepage
\end{frame}

% \input{sections/0_organisation}
% \input{sections/0_parcours}

% \begin{frame}{Sommaire}
%   \setbeamertemplate{section in toc}[sections numbered]
%   \tableofcontents%[hideallsubsections]
% \end{frame}

% \input{sections/1_chp1}
% \input{sections/2_chp2}
\input{sections/3_chp3}
% \input{sections/4_chp4}

\end{document}
